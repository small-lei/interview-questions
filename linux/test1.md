# 长连接（TCP/Websocket）编程接触过吗？
是的，我可以帮助你了解 TCP 和 WebSocket 的长连接编程。长连接的主要优点是能够维持一个持久的连接状态，从而减少建立连接的开销和提高实时性。

长连接概述
TCP 长连接：

概念：TCP 长连接指的是在 TCP 协议中维持一个持久的连接，客户端和服务器之间的连接不会在每次请求后关闭。连接保持活跃状态，以便随时进行数据交换。
使用场景：常用于需要频繁数据交换的应用，如聊天应用、实时数据流等。
WebSocket：

概念：WebSocket 是一种在客户端和服务器之间建立持久连接的协议，允许双向实时通信。它基于 TCP 协议，但在建立连接时使用 HTTP 协议进行握手，然后升级为 WebSocket 协议。
使用场景：常用于实时应用，如在线聊天、实时通知、股票价格更新等。

# 简单描述一下MySQL主从复制的过程？遇到过主从延迟吗，如何解决？
主从延迟及其解决办法
主从延迟是指主库和从库之间的数据同步存在时间差异，通常是从库的数据比主库的数据滞后。主要原因可能包括：

网络延迟：主库和从库之间的网络延迟。
从库负载：从库处理数据的速度慢，导致处理和应用从主库接收到的日志的速度变慢。
长事务：从库上执行长事务，导致 SQL 线程在应用日志时产生延迟。
大批量数据：主库上有大量的数据变更需要从库处理，处理时间较长。
解决主从延迟的策略
优化网络：

确保主库和从库之间的网络连接稳定且带宽充足，以减少网络延迟。
优化主库和从库配置：

调整 MySQL 配置参数，如 innodb_flush_log_at_trx_commit 和 sync_binlog，以平衡性能和安全性。
增加从库的硬件资源（如 CPU、内存、磁盘 IO），以提高处理能力。
优化查询和事务：

在主库上优化查询和事务，以减少写操作的延迟。
避免在从库上执行大规模的查询操作或长事务，以减少对 SQL 线程的影响。
监控和调整：

使用 SHOW SLAVE STATUS 命令监控从库的延迟情况。关注 Seconds_Behind_Master 字段，它表示从库延迟的秒数。
使用 pt-heartbeat 等工具监控主从延迟并进行分析。
使用半同步复制：

使用 MySQL 的半同步复制（semi-synchronous replication），确保主库在提交事务时至少等待一个从库确认，减少延迟。
定期维护：

定期清理过期的中继日志文件，以确保从库不会因为中继日志的积累而导致磁盘空间不足。
定期检查和优化数据库表，以提高性能。
通过上述方法可以有效减少主从延迟，提高主从复制的稳定性和可靠性。如果有进一步的问题或需要深入讨论，请随时告诉我！

# Linux 怎么查看端口调用
使用 lsof 命令
lsof 是一个列出当前系统打开文件的工具，网络端口也被视为文件，可以用来查看哪个程序在使用哪个端口。

查看所有监听的端口及其对应的程序：

bash
复制代码
```bash
lsof -i -n -P
```
其中：

-i 表示显示网络连接
-n 表示以数字形式显示端口和 IP 地址
-P 表示显示端口号而不是服务名
查看特定端口的详细信息（例如 8080 端口）：

bash
复制代码
```bash
lsof -i :8080
```

查看进程详细信息
对于已经知晓某个进程的情况，可以直接查看该进程打开的网络端口。假设你知道进程 ID 为 1234：

查看该进程的网络端口信息：
bash
复制代码
```bash
lsof -Pan -p 1234
```
